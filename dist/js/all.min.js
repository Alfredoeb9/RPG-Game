"use strict";var enemy;function Enemy(e,a,t,n,r,l){this.enemyType=e,this.health=a,this.mana=t,this.strength=n,this.agility=r,this.speed=l}var player,GameManager={setGameStart:function(e){this.resetPlayer(e),this.setPreFight()},resetPlayer:function(e){switch(e){case"Warrior":player=new Player(e,200,0,200,100,50);break;case"Rogue":player=new Player(e,100,0,100,150,200);break;case"Mage":player=new Player(e,80,0,50,200,50);break;case"Archer":player=new Player(e,200,0,50,200,100)}var a=document.querySelector(".interface");a.innerHTML="<img src='img/"+e.toLowerCase()+".jpg' class='img-avatar'><div><h3>"+e+"</h3><p class='health-player'>Health: "+player.health+"</p><p>Mana: "+player.mana+"</p><p>Strength: "+player.strength+"</p><p>Agility: "+player.agility+"</p><p>Speed: "+player.speed+"</p></div>",a.style.flexDirection="row",a.style.height="35%"},setPreFight:function(){var e=document.querySelector(".header"),a=document.querySelector(".actions"),t=document.querySelector(".arena");e.innerHTML="<p>Task: Find an enemy!",a.innerHTML='<a href="#" class="btn-preFight" onclick="GameManager.setFight()">Search for enemy!</a>',t.style.display="block",t.style.visibility="visible"},setFight:function(){var e=document.querySelector(".header"),a=document.querySelector(".actions"),t=document.querySelector(".enemy"),n=new Enemy("Goblin",100,0,50,100,100),r=new Enemy("Troll",160,0,120,80,125),l=Math.floor(Math.random()*Math.floor(2));switch(console.log(l),l){case 0:enemy=n;break;case 1:enemy=r}t.style.visibility="visible",t.style.display="flex",e.innerHTML="<p>Task: Choose your move!</p>",a.innerHTML='<a href="#" class="btn-preFight" onclick="PlayerMoves.calcAttack()">Attack!</a>',t.innerHTML="<img src='img/"+enemy.enemyType.toLowerCase()+".jpg' class='img-avatar'><div><h3>"+enemy.enemyType+"</h3><p class='health-enemy'>Health: "+enemy.health+"</p><p>Mana: "+enemy.mana+"</p><p>Strength: "+enemy.strength+"</p><p>Agility: "+enemy.agility+"</p><p>Speed: "+enemy.speed+"</p></div>"}},btn=document.querySelector(".actions"),goHomeBtn=document.querySelector(".btn-home");function Player(e,a,t,n,r,l){this.classType=e,this.health=a,this.mana=t,this.strength=n,this.agility=r,this.speed=l}var PlayerMoves={calcAttack:function(){var e=player.speed,a=enemy.speed,t=function(){var e;return 0<player.mana?(e=player.strength*player.mana/1e3,console.log(e)):e=player.strength*player.agility/1e3,[e+Math.floor(Math.random()*Math.floor(10)),Math.floor(Math.random()*Math.floor(player.agility/10)/2)+1]},n=function(){var e;return 0<enemy.mana?(e=enemy.strength*enemy.mana/1e3,console.log(e)):e=enemy.strength*enemy.agility/1e3,[e+Math.floor(Math.random()*Math.floor(10)),Math.floor(Math.random()*Math.floor(enemy.agility/10)/2)+1]},r=document.querySelector(".health-player"),l=document.querySelector(".health-enemy");document.querySelector(".img-avatar");if(a<=e){var h=t(),i=h[0]*h[1];if(enemy.health=enemy.health-i,alert("You hit "+h[0]+" damage "+h[1]+" times."),enemy.health<=0)alert("You Win! Refresh browser to play again."),r.innerHTML="Health: "+player.health,l.innerHTML="Health: 0",btn.style.display="none",goHomeBtn.classList.add("goHomeActive");else{l.innerHTML="Health: "+enemy.health;var o=n(),y=o[0]*o[1];player.health=player.health-y,alert("Enemy hit "+o[0]+" damage "+o[1]+" times."),player.health<=0?(alert("Sorry you lost! Refresh browser to play again."),r.innerHTML="Health: 0",l.innerHTML="Health: "+enemy.health,btn.style.display="none",goHomeBtn.classList.add("goHomeActive")):r.innerHTML="Health: "+player.health}}else if(e<=a){var s=n(),m=s[0]*s[1];if(player.health=player.health-m,alert("Enemy hit "+s[0]+" damage "+s[1]+" times."),player.health<=0)alert("You lose! Refresh browser to play again."),getEnemyrHealth.innerHTML="Health: "+enemy.health,r.innerHTML="Health: 0",btn.style.display="none",goHomeBtn.classList.add("goHomeActive");else{r.innerHTML="Health: "+player.health;var c=t(),p=c[0]*c[1];enemy.health=enemy.health-p,alert("You hit "+c[0]+" damage "+c[1]+" times."),enemy.health<=0?(alert("You win! Refresh browser to play again."),l.innerHTML="Health: 0",r.innerHTML="Health: "+player.health,btn.style.display="none",goHomeBtn.classList.add("goHomeActive")):l.innerHTML="Health: "+enemy.health}}}};